@using Microsoft.AspNetCore.SignalR.Client
@inject HubConnection HubConnection
@inject GameStateContainer GameState

@code {
    protected override async Task OnInitializedAsync()
    {
        HubConnection.On<NewPlayerEvent>(nameof(IGameClient.NewPlayer), (NewPlayerEvent newPlayerEvent) => GameState.AddPlayer(newPlayerEvent.NewPlayer));

        HubConnection.On<List<AnswerCard>>(nameof(IGameClient.NewRound), (List<AnswerCard> cards) => GameState.AddCards(cards));

        await HubConnection.StartAsync();
    }
}
