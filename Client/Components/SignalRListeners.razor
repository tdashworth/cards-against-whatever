@using Microsoft.AspNetCore.SignalR.Client
@inject HubConnection HubConnection
@inject GameStateContainer GameState

@code {
    protected override async Task OnInitializedAsync()
    {
        HubConnection.On<NewPlayerEvent>(nameof(IGameClient.NewPlayer), (NewPlayerEvent newPlayerEvent) => GameState.AddPlayer(newPlayerEvent.NewPlayer));

        HubConnection.On<NewRoundEvent>(nameof(IGameClient.NewRound), (NewRoundEvent newRoundEvent) => GameState.AddCards(newRoundEvent.DealtCards));

        await HubConnection.StartAsync();
    }
}
